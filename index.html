<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Finance - Professional Loan & Mortgage Calculator</title>
    <meta name="description" content="Calculate your loan and mortgage payments with high precision. Professional financial tools for smart planning.">
    
    <link rel="canonical" href="https://smartfinance.io/">

    <style>
        :root {
            --bg-dark: #0f172a;
            --card-bg: #1e293b;
            --accent-green: #22c55e;
            --text-light: #f8fafc;
            --text-muted: #94a3b8;
            --border-color: #334155;
            --header-green: #166534;
        }

        * { box-sizing: border-box; }
        
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
            margin: 0; padding: 0; 
            background-color: var(--bg-dark); 
            color: var(--text-light); 
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        /* Accessibility: Skip to content */
        .skip-link { position: absolute; top: -40px; left: 0; background: var(--accent-green); color: white; padding: 8px; z-index: 100; transition: top 0.3s; }
        .skip-link:focus { top: 0; }

        header { background-color: var(--header-green); padding: 15px; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid var(--border-color); }
        h1 { margin: 0; font-size: 22px; font-weight: 900; color: #ffffff; }

        .lang-switcher { 
            background: var(--bg-dark); 
            border: 2px solid #ffffff; 
            color: #ffffff; 
            padding: 8px 12px; 
            border-radius: 8px; 
            font-size: 14px; 
            font-weight: 800; 
            cursor: pointer;
            min-width: 60px;
            min-height: 44px; /* PageSpeed: Tap target size */
        }

        .container { max-width: 800px; margin: 0 auto; padding: 15px; width: 100%; }

        /* Tabs - Improved for Accessibility */
        .tabs-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2px; background-color: #14532d; border-radius: 10px; overflow: hidden; margin: 15px 0; border: 1px solid #14532d; }
        .tab { 
            background: var(--header-green); 
            color: #ffffff; 
            height: 54px; 
            border: none; 
            cursor: pointer; 
            font-weight: 900; 
            text-transform: uppercase; 
            font-size: 13px;
            transition: 0.2s;
            font-family: inherit;
        }
        .tab.active { background: #ffffff; color: var(--header-green); }
        .tab:focus { outline: 3px solid var(--accent-green); outline-offset: -3px; }

        /* Calculator Box */
        .card { background: var(--card-bg); border: 1px solid var(--border-color); padding: 25px; border-radius: 16px; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.3); }
        .row { display: flex; flex-direction: column; margin-bottom: 20px; }
        @media (min-width: 600px) { .row { flex-direction: row; align-items: center; } }
        
        label { font-size: 16px; font-weight: 700; color: #cbd5e1; margin-bottom: 8px; }
        @media (min-width: 600px) { label { width: 180px; margin-bottom: 0; } }

        .input-field { 
            width: 100%; 
            padding: 14px; 
            border-radius: 10px; 
            border: 1px solid var(--border-color); 
            font-size: 18px; 
            font-weight: 800; 
            background: #ffffff; 
            color: #000000;
            min-height: 48px;
        }
        .res-field { background: #f0fdf4 !important; color: #166534 !important; border: 2px solid var(--accent-green) !important; }

        /* Tools Grid - FIXED FOR PAGESPEED */
        .tools-section { margin-top: 40px; text-align: center; }
        .tools-section h2 { font-size: 14px; text-transform: uppercase; color: var(--text-muted); letter-spacing: 1px; margin-bottom: 20px; }
        .tools-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
        @media (min-width: 600px) { .tools-grid { grid-template-columns: repeat(4, 1fr); } }
        
        .tool-btn { 
            display: flex; align-items: center; justify-content: center; 
            padding: 15px 10px; border: 1px solid var(--accent-green); 
            border-radius: 10px; color: var(--accent-green); 
            text-decoration: none; font-weight: 800; font-size: 13px;
            min-height: 48px; transition: 0.2s;
        }
        .tool-btn:hover { background: rgba(34, 197, 94, 0.1); }

        /* SEO & Footer */
        .lang-block { display: none; }
        .lang-block.active { display: block; }
        .seo-text { padding: 30px 5px; color: var(--text-muted); }
        .seo-text h2 { color: var(--accent-green); font-size: 24px; margin-bottom: 15px; }

        footer { border-top: 1px solid var(--border-color); padding: 40px 15px; text-align: center; }
        .footer-info { background: rgba(255,255,255,0.03); padding: 20px; border-radius: 12px; text-align: left; margin-bottom: 30px; font-size: 14px; border: 1px solid var(--border-color); }
        .footer-btns { display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; }
        .f-btn { background: none; border: none; color: var(--accent-green); text-decoration: underline; font-weight: 700; cursor: pointer; padding: 10px; font-size: 14px; }

        /* Modal FIXED */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); backdrop-filter: blur(4px); }
        .modal-content { background: var(--card-bg); margin: 10% auto; width: 92%; max-width: 550px; border-radius: 20px; border: 1px solid var(--border-color); position: relative; overflow: hidden; animation: slideUp 0.3s; }
        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .modal-header { padding: 15px; display: flex; justify-content: flex-end; background: rgba(0,0,0,0.2); }
        .close-btn { background: var(--accent-green); color: white; border: none; width: 48px; height: 48px; border-radius: 12px; font-size: 32px; font-weight: bold; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .modal-body { padding: 30px; color: white; max-height: 70vh; overflow-y: auto; }
    </style>
</head>
<body>

<a href="#main-content" class="skip-link">Skip to content</a>

<header>
    <h1>SmartFinance.io</h1>
    <select class="lang-switcher" onchange="changeLanguage(this.value)" id="langSelect" aria-label="Select website language">
        <option value="en">EN</option>
        <option value="uk">UK</option>
        <option value="es">ES</option>
        <option value="de">DE</option>
    </select>
</header>

<main class="container" id="main-content">
    <div class="tabs-grid" role="tablist" id="tabsBox"></div>

    <div class="card">
        <div class="row">
            <label for="amount" id="label-amount">Amount</label>
            <input type="number" id="amount" class="input-field" value="10000" oninput="runCalc()">
        </div>
        <div class="row">
            <label for="interest" id="label-interest">Interest %</label>
            <input type="number" id="interest" class="input-field" value="5" step="0.1" oninput="runCalc()">
        </div>
        <div class="row">
            <label for="term" id="label-term">Term (Years)</label>
            <input type="number" id="term" class="input-field" value="5" oninput="runCalc()">
        </div>
        <div style="height: 1px; background: var(--border-color); margin: 25px 0;"></div>
        <div class="row">
            <label id="label-monthly">Monthly Payment</label>
            <input type="text" id="res-monthly" class="input-field res-field" readonly aria-live="polite">
        </div>
        <div class="row">
            <label id="label-total">Total Repayment</label>
            <input type="text" id="res-total" class="input-field res-field" readonly aria-live="polite">
        </div>
    </div>

    <div id="seo-content" class="seo-text"></div>

    <section class="tools-section">
        <h2 id="label-other">Other Financial Tools</h2>
        <div class="tools-grid">
            <a href="#" class="tool-btn" aria-label="Unit Converter Tool">Unit</a>
            <a href="#" class="tool-btn" aria-label="Currency Converter Tool">Currency</a>
            <a href="#" class="tool-btn" aria-label="VAT Calculator Tool">VAT</a>
            <a href="#" class="tool-btn" aria-label="BMI Calculator Tool">BMI</a>
        </div>
    </section>
</main>

<footer>
    <div id="footer-text" class="footer-info"></div>
    <div class="footer-btns">
        <button class="f-btn" onclick="showModal('priv')" id="btn-priv">Privacy Policy</button>
        <button class="f-btn" onclick="showModal('terms')" id="btn-terms">Terms of Use</button>
    </div>
    <p style="font-size: 12px; opacity: 0.6;">© 2026 SmartFinance.io - Professional Grade Tools</p>
</footer>

<div id="modalBox" class="modal" onclick="if(event.target==this)closeModal()" aria-hidden="true" role="dialog">
    <div class="modal-content">
        <div class="modal-header">
            <button class="close-btn" onclick="closeModal()" aria-label="Close modal Window">×</button>
        </div>
        <div id="modalContent" class="modal-body"></div>
    </div>
</div>

<script>
    const translations = {
        en: {
            amt: "Loan Amount", int: "Interest Rate %", term: "Term (Years)", mon: "Monthly Payment", tot: "Total Repayment",
            cats: ["Loan", "Mortgage"], other: "Other Financial Tools", priv: "Privacy Policy", terms: "Terms of Use",
            footer: "SmartFinance.io provides high-precision financial algorithms based on international annuity standards. We ensure your data remains private and local.",
            seo: "<h2>Financial Planning Made Simple</h2><p>Our tool helps you calculate the real cost of borrowing. Compare mortgage rates and loan terms to save money on interest.</p>",
            pT: "<h2>Privacy</h2><p>We do not collect any personal data. All calculations are performed in your browser.</p>",
            tT: "<h2>Terms</h2><p>This tool is for informational purposes. Always consult with a financial advisor.</p>"
        },
        uk: {
            amt: "Сума кредиту", int: "Відсоткова ставка %", term: "Термін (років)", mon: "Місячний платіж", tot: "Загальна сума",
            cats: ["Кредит", "Іпотека"], other: "Інші інструменти", priv: "Конфіденційність", terms: "Умови використання",
            footer: "SmartFinance.io надає високоточні фінансові алгоритми, засновані на міжнародних стандартах ануїтету. Ми гарантуємо конфіденційність ваших даних.",
            seo: "<h2>Фінансове планування — це просто</h2><p>Наш інструмент допомагає розрахувати реальну вартість кредитування. Порівнюйте ставки та умови, щоб заощадити на відсотках.</p>",
            pT: "<h2>Конфіденційність</h2><p>Ми не збираємо жодних персональних даних. Розрахунки відбуваються у вашому браузері.</p>",
            tT: "<h2>Умови</h2><p>Цей інструмент має інформаційний характер. Завжди консультуйтеся з фахівцем.</p>"
        }
        // ... (ES and DE follow the same structure)
    };

    let currentLang = localStorage.getItem('lang_f') || 'en';
    let currentTab = 0;

    function changeLanguage(lang) {
        currentLang = lang;
        localStorage.setItem('lang_f', lang);
        document.documentElement.lang = lang;
        updateUI();
    }

    function updateUI() {
        const t = translations[currentLang] || translations.en;
        document.getElementById('label-amount').innerText = t.amt;
        document.getElementById('label-interest').innerText = t.int;
        document.getElementById('label-term').innerText = t.term;
        document.getElementById('label-monthly').innerText = t.mon;
        document.getElementById('label-total').innerText = t.tot;
        document.getElementById('label-other').innerText = t.other;
        document.getElementById('btn-priv').innerText = t.priv;
        document.getElementById('btn-terms').innerText = t.terms;
        document.getElementById('footer-text').innerText = t.footer;
        document.getElementById('seo-content').innerHTML = t.seo;

        const tabsBox = document.getElementById('tabsBox');
        tabsBox.innerHTML = '';
        t.cats.forEach((name, i) => {
            const btn = document.createElement('button');
            btn.className = `tab ${i === currentTab ? 'active' : ''}`;
            btn.innerText = name;
            btn.onclick = () => { currentTab = i; updateUI(); };
            tabsBox.appendChild(btn);
        });
        runCalc();
    }

    function runCalc() {
        const p = parseFloat(document.getElementById('amount').value) || 0;
        const r = (parseFloat(document.getElementById('interest').value) || 0) / 100 / 12;
        const n = (parseFloat(document.getElementById('term').value) || 0) * 12;
        
        if (p > 0 && r > 0 && n > 0) {
            const x = Math.pow(1 + r, n);
            const m = (p * x * r) / (x - 1);
            document.getElementById('res-monthly').value = m.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2});
            document.getElementById('res-total').value = (m * n).toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2});
        } else {
            document.getElementById('res-monthly').value = "0.00";
            document.getElementById('res-total').value = "0.00";
        }
    }

    function showModal(type) {
        const t = translations[currentLang] || translations.en;
        document.getElementById('modalContent').innerHTML = (type === 'priv') ? t.pT : t.tT;
        const m = document.getElementById('modalBox');
        m.style.display = 'block';
        m.setAttribute('aria-hidden', 'false');
    }

    function closeModal() {
        const m = document.getElementById('modalBox');
        m.style.display = 'none';
        m.setAttribute('aria-hidden', 'true');
    }

    updateUI();
</script>
</body>
</html>
